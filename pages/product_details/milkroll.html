<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LeTAO — Jersey Milk Roll</title>
  <link rel="stylesheet" href="../../index.css" />
  <link rel="stylesheet" href="Product_Detail_Page.css" />
  <link rel="stylesheet" href="../head.css" />
  <link rel="stylesheet" href="../footer.css" />
  <script type="text/javascript" src="./Product_Detail_Page_1.js"></script>
</head>

<body>
  <div class="page">
    <div class="page">
      <div class="flex-row justify-between items-center header-container">
        <a href="../Homepage/Homepage.html" class="header-logo-link"><span class="header-logo">LeTAO</span></a>
        <div class="flex-col justify-start nav-link-wrapper"><a href="../Homepage/Homepage.html"
            class="nav-link-anchor"><span class="nav-link-text">Home</span></a></div>
        <div class="flex-col justify-start nav-link-wrapper"><a href="../product_pages/All_Product_PAGE.html"
            class="nav-link-anchor"><span class="nav-link-text">All products</span></a></div>
        <div class="flex-col justify-start nav-link-wrapper"><a href="../product_pages/Seasonal_Limits_PAGE.html"
            class="nav-link-anchor"><span class="nav-link-text">Seasonal Limits</span></a></div>
        <div class="flex-col justify-start nav-link-wrapper"><a href="../product_pages/Signature_Creations_PAGE.html"
            class="nav-link-anchor"><span class="nav-link-text">Signature Creations</span></a></div>
        <div class="flex-col justify-start nav-link-wrapper"><a href="../product_pages/Pastry_PAGE.html"
            class="nav-link-anchor"><span class="nav-link-text">Pastry</span></a></div>
        <div class=header-icon-container>
          <a href="../Shopping_Cart_Page/Shopping_Cart_Page.html"><img class="header-icon"
              src="../../src/logo/cart.png" /></a>
          <a href="../login/Login_Page.html"><img class="header-icon" src="../../src/logo/account.png" /></a>
        </div>
      </div>

      <div class="flex-col banner-container">
        <div class="flex-row justify-between items-center banner-content">
          <span class="banner-text">Order before 2:00pm For Next-Day Home Delivery</span>
          <div class="flex-row search-container"><a href="../Search_Page/Search_Page.html">
              <span class="search-text">Search...</span></a>
            <img class="shrink-0 search-icon" src="../../src/logo/x.png" />
          </div>
        </div>
      </div>

      <main class="product-detail">
        <div class="images">
          <img src="../../src/logo/jersey_milk_roll.png" />
          <img src="../../src/logo/milkroll1.png" />
          <img src="../../src/logo/milkroll2.png" />

        </div>
        <div class="details">
          <h1>Jersey Milk Roll</h1>
          <p class="price">$33.99</p>

          <p>
            Pickup available at
            <strong>Melbourne 238 Swanston Street Store</strong>.
            Usually ready in 1 hour.
          </p>
          <a href="#" class="check-availability">Check availability in other stores</a>

          <p>The cream in our Jersey Milk Roll comes from a herd of Jersey cows in the Tokachi prefecture of Hokkaido.
          </p>
          <p>
            The Jersey milk we use in our Jersey Milk Roll is unique for its high butterfat content which makes
            for a thick, luxurious cream. This rich cream is rolled in a sponge cake that is both fluffy and
            moist.
          </p>

          <p><strong>Net Weight:</strong> 213g</p>
          <p>
            <strong>Ingredients:</strong>
            Fresh cream (contains cows’ milk), Whole Eggs, Sugar, Wheat flour (contains gluten), Starch syrup,
            Sesame oil, Condensed milk powder, Trehalose, Polysaccharide thickener (Xanthan gum/E415,
            Carrageenan/E407), Emulsifier (contains soy, Lecithin/E322), Essence, Sodium metaphosphate/E452)
          </p>
          <p>
            <strong>Allergen Information:</strong>
            This product contains wheat, gluten, soy, egg, and milk.
          </p>

          <p class="origin">MADE IN HOKKAIDO, JAPAN WITH LOVE.</p>
          <button class="btn-add" onclick="addMilkRollToCart()">Add to Cart</button>
        </div>
      </main>

      <div class="flex-row footer-container">
        <div class="flex-col footer-item">
          <a href="../content_pages/Delivery_Policy_Page.html"><span class="footer-item-text">Delivery Policy</span>
          </a>
        </div>
        <div class="flex-col  footer-item">
          <a href="../content_pages/Return_Refund.html"> <span class="footer-item-text">Return & Refund</span> </a>
          <div class="footer-item-divider"></div>
        </div>
        <div class="flex-col footer-item">
          <a href="../content_pages/Privacy_Policy.html"><span class="footer-item-text">Privacy Policy</span> </a>
          <div class="shrink-0 footer-item-divider"></div>
        </div>
        <div class="flex-col  footer-item">
          <a href="../Contact_Us_Page/Contact_Us_Page.html">
            <span class="footer-item-text">Contact Us</span> </a>
        </div>
      </div>
    </div>
    <script>
      function addMilkRollToCart() {
        let cart = JSON.parse(localStorage.getItem('letaoCart')) || { items: [], total: 0 };

        const existingItemIndex = cart.items.findIndex(item => item.name === "Jersey Milk Roll");

        if (existingItemIndex >= 0) {
          cart.items[existingItemIndex].quantity += 1;
        } else {
          cart.items.push({
            id: Date.now(),
            name: "Jersey Milk Roll",
            price: 43.99,
            quantity: 1,
            image: "../../src/logo/jersey_milk_roll.png"
          });

          localStorage.setItem('letaoCart', JSON.stringify(cart));
        }
      }
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const productImages = document.querySelectorAll('.images > img');
        if (productImages.length <= 1) return; 

        const carousel = document.createElement('div');
        carousel.className = 'image-carousel';

        const carouselContainer = document.createElement('div');
        carouselContainer.className = 'carousel-container';

        productImages.forEach(img => {
          const slide = document.createElement('div');
          slide.className = 'carousel-slide';
          const newImg = document.createElement('img');
          newImg.src = img.src;
          newImg.alt = img.alt;
          slide.appendChild(newImg);
          carouselContainer.appendChild(slide);
        });

        carousel.appendChild(carouselContainer);

        const dotsContainer = document.createElement('div');
        dotsContainer.className = 'carousel-nav';

        for (let i = 0; i < productImages.length; i++) {
          const dot = document.createElement('span');
          dot.className = i === 0 ? 'carousel-dot active' : 'carousel-dot';
          dot.dataset.index = i;
          dot.addEventListener('click', () => {
            currentSlide = i;
            updateCarousel();
          });
          dotsContainer.appendChild(dot);
        }

        carousel.appendChild(dotsContainer);

        const prevButton = document.createElement('button');
        prevButton.className = 'carousel-prev';
        prevButton.innerHTML = '&lt;';
        prevButton.addEventListener('click', () => {
          currentSlide = (currentSlide - 1 + productImages.length) % productImages.length;
          updateCarousel();
        });

        const nextButton = document.createElement('button');
        nextButton.className = 'carousel-next';
        nextButton.innerHTML = '&gt;';
        nextButton.addEventListener('click', () => {
          currentSlide = (currentSlide + 1) % productImages.length;
          updateCarousel();
        });

        carousel.appendChild(prevButton);
        carousel.appendChild(nextButton);

        const imagesContainer = document.querySelector('.images');
        imagesContainer.prepend(carousel);

        let currentSlide = 0;

        function updateCarousel() {
          carouselContainer.style.transform = `translateX(-${currentSlide * 100}%)`;

          document.querySelectorAll('.carousel-dot').forEach((dot, index) => {
            if (index === currentSlide) {
              dot.classList.add('active');
            } else {
              dot.classList.remove('active');
            }
          });
        }

        function toggleCarousel() {
          if (window.innerWidth <= 390) {
            carousel.style.display = 'block';
            productImages.forEach((img, idx) => {
              if (idx > 0) img.style.display = 'none';
            });
          } else {
            carousel.style.display = 'none';
            productImages.forEach(img => {
              img.style.display = 'block';
            });
          }
        }

        toggleCarousel();
        window.addEventListener('resize', toggleCarousel);
      });
    </script>
</body>

</html>